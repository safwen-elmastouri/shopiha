{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport React, { useState, useEffect } from 'react';\nimport { AntDesign } from '@expo/vector-icons';\nimport { Items } from \"../DB/data\";\nimport { addProduct } from \"../redux/gerDataSlice\";\nimport { useDispatch } from 'react-redux';\nimport { set } from 'lodash';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ProductInfo(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var item = route.params.item;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    product = _useState2[0],\n    setProduct = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    name = _useState4[0],\n    setName = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showAlert = _useState6[0],\n    setShowAlert = _useState6[1];\n  var _useState7 = useState(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    id = _useState8[0],\n    setId = _useState8[1];\n  var dispatch = useDispatch();\n  var getId = function getId() {\n    dispatch(addProduct(product));\n    setId();\n  };\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      getDataFromDB();\n    });\n    return unsubscribe;\n  }, [navigation]);\n  var getDataFromDB = function _callee() {\n    var index;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            index = 0;\n          case 1:\n            if (!(index < Items.length)) {\n              _context.next = 9;\n              break;\n            }\n            if (!(Items[index].id == item.id)) {\n              _context.next = 6;\n              break;\n            }\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(setProduct(Items[index]));\n          case 5:\n            return _context.abrupt(\"return\");\n          case 6:\n            index++;\n            _context.next = 1;\n            break;\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var scrollX = new Animated.Value(0);\n  var width = Dimensions.get('window').width;\n  useEffect(function () {\n    var timer;\n    if (showAlert) {\n      timer = setTimeout(function () {\n        setShowAlert(false);\n      }, 600000);\n    }\n\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [showAlert]);\n  var handlePress = function handlePress() {\n    setShowAlert(true);\n  };\n  var renderProduct = function renderProduct(_ref2) {\n    var item = _ref2.item,\n      index = _ref2.index;\n    return _jsx(View, {\n      style: {\n        width: width,\n        height: 240,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsx(Image, {\n        source: item,\n        style: {\n          width: '100%',\n          height: '100%',\n          resizeMode: 'contain'\n        }\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      backgroundColor: '#adb5bd',\n      width: '100%',\n      height: '100%'\n    },\n    children: [_jsx(FlatList, {\n      style: styles.productImageList,\n      data: product.productImageList ? product.productImageList : null,\n      horizontal: true,\n      renderItem: renderProduct,\n      showsHorizontalScrollIndicator: false,\n      decelerationRate: 0.8,\n      bounces: false,\n      onScroll: Animated.event([{\n        nativeEvent: {\n          contentOffset: {\n            x: scrollX\n          }\n        }\n      }], {\n        useNativeDriver: false\n      })\n    }), _jsxs(ScrollView, {\n      style: styles.container,\n      children: [_jsxs(Text, {\n        style: styles.productName,\n        children: [\" \", product.productName, \"  \"]\n      }), _jsxs(Text, {\n        style: styles.productPrice,\n        children: [\" \", product.productPrice, \" \"]\n      }), _jsx(Text, {\n        style: {\n          fontSize: 20,\n          marginHorizontal: 15\n        },\n        children: \"Specs\"\n      }), _jsxs(Text, {\n        style: styles.description,\n        children: [\" \", product.description, \" \"]\n      }), _jsxs(View, {\n        style: styles.addToCartContainer,\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.buttonStyle,\n          onPress: function onPress() {\n            handlePress;\n          },\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: \" Add to \"\n          }), _jsx(AntDesign, {\n            name: \"shoppingcart\",\n            size: 25,\n            color: \"white\"\n          })]\n        }), showAlert && _jsx(Text, {\n          style: {\n            color: 'red'\n          },\n          children: \" ssss\"\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'white',\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    width: '100%',\n    height: '60%'\n  },\n  productImageList: {\n    marginBottom: 15,\n    marginTop: 15,\n    height: '40%'\n  },\n  productName: {\n    fontWeight: '500',\n    fontSize: 25,\n    margin: 15\n  },\n  description: {\n    alignItems: 'center',\n    marginTop: 15,\n    marginHorizontal: 5,\n    lineHeight: 20,\n    color: 'grey'\n  },\n  productPrice: {\n    textAlign: 'right',\n    marginRight: 35,\n    fontSize: 20,\n    color: 'red',\n    marginTop: -35\n  },\n  addToCartContainer: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  buttonStyle: {\n    flexDirection: 'row',\n    backgroundColor: '#560bad',\n    justifyContent: 'center',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '50%',\n    height: 45,\n    borderRadius: 10,\n    margin: 5\n  },\n  text: {\n    fontSize: 15,\n    fontWeight: 'bold',\n    color: 'white',\n    textAlign: 'center'\n  },\n  cart: {\n    borderRadius: 2,\n    borderColor: '#560bad'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","AntDesign","Items","addProduct","useDispatch","set","ProductInfo","route","navigation","item","params","product","setProduct","name","setName","showAlert","setShowAlert","id","setId","dispatch","getId","unsubscribe","addListener","getDataFromDB","index","length","scrollX","Animated","Value","width","Dimensions","get","timer","setTimeout","clearTimeout","handlePress","renderProduct","height","alignItems","justifyContent","resizeMode","backgroundColor","styles","productImageList","event","nativeEvent","contentOffset","x","useNativeDriver","container","productName","productPrice","fontSize","marginHorizontal","description","addToCartContainer","buttonStyle","text","color","StyleSheet","create","borderTopLeftRadius","borderTopRightRadius","marginBottom","marginTop","fontWeight","margin","lineHeight","textAlign","marginRight","flex","flexDirection","borderRadius","cart","borderColor"],"sources":["C:/Users/Safwen/Desktop/shopiha/components/ProductInfo.js"],"sourcesContent":["import { StyleSheet, Text , View ,\r\n   Image , FlatList , \r\n  Animated , Dimensions, \r\n  ScrollView, TouchableOpacity,Button} from 'react-native'\r\nimport React, {useState , useEffect} from 'react'\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { Items } from '../DB/data'\r\nimport { addProduct } from '../redux/gerDataSlice';\r\nimport { useDispatch } from 'react-redux';\r\nimport { set } from 'lodash';\r\n\r\n\r\nexport default function ProductInfo({route,navigation}) {\r\n\r\n  const { item } = route.params;\r\n  const [product, setProduct] = useState({});\r\n  const [name , setName]= useState([]);\r\n  const [showAlert, setShowAlert] = useState(true);\r\n  const  [id ,setId]= useState();\r\n  const dispatch = useDispatch();\r\n  \r\n  \r\n  const getId =()=>{\r\n    dispatch(addProduct(product));\r\n    setId()\r\n\r\n  } \r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      getDataFromDB();\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation]);\r\n  const getDataFromDB = async () => {\r\n    for (let index = 0; index < Items.length; index++) {\r\n      if (Items[index].id == item.id) {\r\n        await setProduct(Items[index]);\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const scrollX = new Animated.Value(0);\r\n  const width = Dimensions.get('window').width;\r\n\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n\r\n    if (showAlert) {\r\n      timer = setTimeout(() => {\r\n        setShowAlert(false);\r\n      }, 600000); // hide alert after 1 minute\r\n    }\r\n\r\n    return () => clearTimeout(timer); // cleanup the timer on unmount\r\n  }, [showAlert]);\r\n\r\n  const handlePress = () => {\r\n    setShowAlert(true);\r\n  };\r\n\r\n  \r\n  const renderProduct = ({item, index}) => {\r\n    return (\r\n      <View\r\n        style={{\r\n          width: width,\r\n          height: 240,\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}>\r\n        <Image\r\n          source={item}\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            resizeMode: 'contain',\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={{backgroundColor :'#adb5bd',width:'100%',height:'100%'}} >\r\n    <FlatList  style={styles.productImageList}\r\n            data={product.productImageList ? product.productImageList : null}\r\n            horizontal\r\n            renderItem={renderProduct}\r\n            showsHorizontalScrollIndicator={false}\r\n            decelerationRate={0.8}\r\n            bounces={false}\r\n            onScroll={Animated.event(\r\n              [{nativeEvent: {contentOffset: {x: scrollX}}}],\r\n              {useNativeDriver: false},\r\n            )}\r\n          />\r\n  \r\n          <ScrollView  style={styles.container}   >\r\n            <Text style={styles.productName} > {product.productName}  </Text>\r\n               <Text style={styles.productPrice} > {product.productPrice} </Text> \r\n            <Text  style={{fontSize:20,marginHorizontal:15}}  >Specs</Text>\r\n            <Text style={styles.description} > {product.description} </Text>\r\n            <View style={styles.addToCartContainer}>\r\n           <TouchableOpacity style={styles.buttonStyle} onPress={() =>{handlePress}}  >\r\n           \r\n        \r\n            <Text style={styles.text} > Add to </Text>\r\n              <AntDesign name=\"shoppingcart\" size={25} color=\"white\"  />\r\n\r\n          </TouchableOpacity>\r\n          {showAlert && (\r\n\r\n<Text style={{ color: 'red' }} > ssss</Text>\r\n      )}\r\n              \r\n        </View>\r\n   \r\n         </ScrollView>\r\n         \r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container :{\r\n    backgroundColor:'white',\r\n    borderTopLeftRadius:50,\r\n    borderTopRightRadius:50,\r\n    width:'100%',\r\n    height:'60%',\r\n\r\n  },\r\n  productImageList:{    \r\n    marginBottom:15,\r\n    marginTop:15,\r\n    height:'40%'\r\n  },\r\n  productName:{\r\n    fontWeight:'500',\r\n    fontSize:25,\r\n    margin:15\r\n  },\r\n  description:{ \r\n    alignItems:'center',\r\n    marginTop:15,\r\n    marginHorizontal:5,\r\n    lineHeight:20,\r\n    color:'grey'\r\n    \r\n\r\n  },\r\n  productPrice:{\r\n    textAlign:'right',\r\n    marginRight:35,\r\n    fontSize:20,\r\n    color:'red',\r\n    marginTop:-35\r\n  },\r\n\r\n\r\n  addToCartContainer: {\r\n    flex:1,\r\n    alignItems:'center'\r\n    \r\n\r\n\r\n},\r\n  buttonStyle:{\r\n    flexDirection:'row',\r\n    backgroundColor:'#560bad',\r\n    justifyContent:'center',\r\n    alignItems:'center', \r\n    justifyContent:'center',\r\n    width:'50%',\r\n    height:45,\r\n    borderRadius:10,\r\n    margin:5,\r\n  },\r\n  text:{  \r\n    fontSize:15,\r\n    fontWeight:'bold',\r\n    color:'white',\r\n    textAlign:'center'\r\n  },\r\n  cart:{\r\n    borderRadius:2,\r\n    borderColor:'#560bad',\r\n  }\r\n});"],"mappings":";;;;;;;;;;;;AAIA,OAAOA,KAAK,IAAGC,QAAQ,EAAGC,SAAS,QAAO,OAAO;AACjD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,KAAK;AACd,SAASC,UAAU;AACnB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,GAAG,QAAQ,QAAQ;AAAC;AAAA;AAG7B,eAAe,SAASC,WAAW,OAAqB;EAAA,IAAnBC,KAAK,QAALA,KAAK;IAACC,UAAU,QAAVA,UAAU;EAEnD,IAAQC,IAAI,GAAKF,KAAK,CAACG,MAAM,CAArBD,IAAI;EACZ,gBAA8BV,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAA;IAAnCY,OAAO;IAAEC,UAAU;EAC1B,iBAAwBb,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7Bc,IAAI;IAAGC,OAAO;EACrB,iBAAkCf,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAzCgB,SAAS;IAAEC,YAAY;EAC9B,iBAAoBjB,QAAQ,EAAE;IAAA;IAAtBkB,EAAE;IAAEC,KAAK;EACjB,IAAMC,QAAQ,GAAGf,WAAW,EAAE;EAG9B,IAAMgB,KAAK,GAAE,SAAPA,KAAK,GAAM;IACfD,QAAQ,CAAChB,UAAU,CAACQ,OAAO,CAAC,CAAC;IAC7BO,KAAK,EAAE;EAET,CAAC;EAEDlB,SAAS,CAAC,YAAM;IACd,IAAMqB,WAAW,GAAGb,UAAU,CAACc,WAAW,CAAC,OAAO,EAAE,YAAM;MACxDC,aAAa,EAAE;IACjB,CAAC,CAAC;IAEF,OAAOF,WAAW;EACpB,CAAC,EAAE,CAACb,UAAU,CAAC,CAAC;EAChB,IAAMe,aAAa,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YACXC,KAAK,GAAG,CAAC;UAAA;YAAA,MAAEA,KAAK,GAAGtB,KAAK,CAACuB,MAAM;cAAA;cAAA;YAAA;YAAA,MAClCvB,KAAK,CAACsB,KAAK,CAAC,CAACP,EAAE,IAAIR,IAAI,CAACQ,EAAE;cAAA;cAAA;YAAA;YAAA;YAAA,iCACtBL,UAAU,CAACV,KAAK,CAACsB,KAAK,CAAC,CAAC;UAAA;YAAA;UAAA;YAFQA,KAAK,EAAE;YAAA;YAAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAMlD;EAID,IAAME,OAAO,GAAG,IAAIC,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC;EACrC,IAAMC,KAAK,GAAGC,UAAU,CAACC,GAAG,CAAC,QAAQ,CAAC,CAACF,KAAK;EAG5C7B,SAAS,CAAC,YAAM;IACd,IAAIgC,KAAK;IAET,IAAIjB,SAAS,EAAE;MACbiB,KAAK,GAAGC,UAAU,CAAC,YAAM;QACvBjB,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,EAAE,MAAM,CAAC;IACZ;;IAEA,OAAO;MAAA,OAAMkB,YAAY,CAACF,KAAK,CAAC;IAAA;EAClC,CAAC,EAAE,CAACjB,SAAS,CAAC,CAAC;EAEf,IAAMoB,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxBnB,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAGD,IAAMoB,aAAa,GAAG,SAAhBA,aAAa,QAAsB;IAAA,IAAjB3B,IAAI,SAAJA,IAAI;MAAEe,KAAK,SAALA,KAAK;IACjC,OACE,KAAC,IAAI;MACH,KAAK,EAAE;QACLK,KAAK,EAAEA,KAAK;QACZQ,MAAM,EAAE,GAAG;QACXC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE;MAClB,CAAE;MAAA,UACF,KAAC,KAAK;QACJ,MAAM,EAAE9B,IAAK;QACb,KAAK,EAAE;UACLoB,KAAK,EAAE,MAAM;UACbQ,MAAM,EAAE,MAAM;UACdG,UAAU,EAAE;QACd;MAAE;IACF,EACG;EAEX,CAAC;EAED,OACE,MAAC,IAAI;IAAC,KAAK,EAAE;MAACC,eAAe,EAAE,SAAS;MAACZ,KAAK,EAAC,MAAM;MAACQ,MAAM,EAAC;IAAM,CAAE;IAAA,WACrE,KAAC,QAAQ;MAAE,KAAK,EAAEK,MAAM,CAACC,gBAAiB;MAClC,IAAI,EAAEhC,OAAO,CAACgC,gBAAgB,GAAGhC,OAAO,CAACgC,gBAAgB,GAAG,IAAK;MACjE,UAAU;MACV,UAAU,EAAEP,aAAc;MAC1B,8BAA8B,EAAE,KAAM;MACtC,gBAAgB,EAAE,GAAI;MACtB,OAAO,EAAE,KAAM;MACf,QAAQ,EAAET,QAAQ,CAACiB,KAAK,CACtB,CAAC;QAACC,WAAW,EAAE;UAACC,aAAa,EAAE;YAACC,CAAC,EAAErB;UAAO;QAAC;MAAC,CAAC,CAAC,EAC9C;QAACsB,eAAe,EAAE;MAAK,CAAC;IACxB,EACF,EAEF,MAAC,UAAU;MAAE,KAAK,EAAEN,MAAM,CAACO,SAAU;MAAA,WACnC,MAAC,IAAI;QAAC,KAAK,EAAEP,MAAM,CAACQ,WAAY;QAAA,gBAAIvC,OAAO,CAACuC,WAAW;MAAA,EAAU,EAC9D,MAAC,IAAI;QAAC,KAAK,EAAER,MAAM,CAACS,YAAa;QAAA,gBAAIxC,OAAO,CAACwC,YAAY;MAAA,EAAS,EACrE,KAAC,IAAI;QAAE,KAAK,EAAE;UAACC,QAAQ,EAAC,EAAE;UAACC,gBAAgB,EAAC;QAAE,CAAE;QAAA;MAAA,EAAe,EAC/D,MAAC,IAAI;QAAC,KAAK,EAAEX,MAAM,CAACY,WAAY;QAAA,gBAAI3C,OAAO,CAAC2C,WAAW;MAAA,EAAS,EAChE,MAAC,IAAI;QAAC,KAAK,EAAEZ,MAAM,CAACa,kBAAmB;QAAA,WACxC,MAAC,gBAAgB;UAAC,KAAK,EAAEb,MAAM,CAACc,WAAY;UAAC,OAAO,EAAE,mBAAK;YAACrB,WAAW;UAAA,CAAE;UAAA,WAGxE,KAAC,IAAI;YAAC,KAAK,EAAEO,MAAM,CAACe,IAAK;YAAA;UAAA,EAAiB,EACxC,KAAC,SAAS;YAAC,IAAI,EAAC,cAAc;YAAC,IAAI,EAAE,EAAG;YAAC,KAAK,EAAC;UAAO,EAAI;QAAA,EAE3C,EAClB1C,SAAS,IAEpB,KAAC,IAAI;UAAC,KAAK,EAAE;YAAE2C,KAAK,EAAE;UAAM,CAAE;UAAA;QAAA,EACvB;MAAA,EAEQ;IAAA,EAEO;EAAA,EAEX;AAEX;AAEA,IAAMhB,MAAM,GAAGiB,UAAU,CAACC,MAAM,CAAC;EAC/BX,SAAS,EAAE;IACTR,eAAe,EAAC,OAAO;IACvBoB,mBAAmB,EAAC,EAAE;IACtBC,oBAAoB,EAAC,EAAE;IACvBjC,KAAK,EAAC,MAAM;IACZQ,MAAM,EAAC;EAET,CAAC;EACDM,gBAAgB,EAAC;IACfoB,YAAY,EAAC,EAAE;IACfC,SAAS,EAAC,EAAE;IACZ3B,MAAM,EAAC;EACT,CAAC;EACDa,WAAW,EAAC;IACVe,UAAU,EAAC,KAAK;IAChBb,QAAQ,EAAC,EAAE;IACXc,MAAM,EAAC;EACT,CAAC;EACDZ,WAAW,EAAC;IACVhB,UAAU,EAAC,QAAQ;IACnB0B,SAAS,EAAC,EAAE;IACZX,gBAAgB,EAAC,CAAC;IAClBc,UAAU,EAAC,EAAE;IACbT,KAAK,EAAC;EAGR,CAAC;EACDP,YAAY,EAAC;IACXiB,SAAS,EAAC,OAAO;IACjBC,WAAW,EAAC,EAAE;IACdjB,QAAQ,EAAC,EAAE;IACXM,KAAK,EAAC,KAAK;IACXM,SAAS,EAAC,CAAC;EACb,CAAC;EAGDT,kBAAkB,EAAE;IAClBe,IAAI,EAAC,CAAC;IACNhC,UAAU,EAAC;EAIf,CAAC;EACCkB,WAAW,EAAC;IACVe,aAAa,EAAC,KAAK;IACnB9B,eAAe,EAAC,SAAS;IACzBF,cAAc,EAAC,QAAQ;IACvBD,UAAU,EAAC,QAAQ;IACnBC,cAAc,EAAC,QAAQ;IACvBV,KAAK,EAAC,KAAK;IACXQ,MAAM,EAAC,EAAE;IACTmC,YAAY,EAAC,EAAE;IACfN,MAAM,EAAC;EACT,CAAC;EACDT,IAAI,EAAC;IACHL,QAAQ,EAAC,EAAE;IACXa,UAAU,EAAC,MAAM;IACjBP,KAAK,EAAC,OAAO;IACbU,SAAS,EAAC;EACZ,CAAC;EACDK,IAAI,EAAC;IACHD,YAAY,EAAC,CAAC;IACdE,WAAW,EAAC;EACd;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}